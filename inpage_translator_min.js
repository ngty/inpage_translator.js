var InpageTranslator = { Version : '0.1.0', DefaultLanguage : 'en', _debugLanguage : null, browserLanguage: function() { if(this._debugLanguage) { return this._debugLanguage; } else if(navigator.userLanguage) { return navigator.userLanguage; } else if(navigator.language) { return navigator.language; }; }, detectLanguage: function() { return ( this.browserLanguage() || this.DefaultLanguage ).split('-')[0]; }, langSelector: function() { var lang = this.detectLanguage(), klass = 'lang-'+lang; return $('*').hasClass(klass) ? ('.'+klass) : null; }, work: function() { var selector = this.langSelector(); if(selector) { $(selector).show(); $('*[class^=lang-]').not(selector).hide(); }; } }; $(document).ready(function(){ InpageTranslator.work(); });
